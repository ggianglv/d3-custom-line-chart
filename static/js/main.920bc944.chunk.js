(this["webpackJsonpd3-line-chart"]=this["webpackJsonpd3-line-chart"]||[]).push([[0],{77:function(t,e,n){},78:function(t,e,n){},79:function(t,e,n){},86:function(t,e,n){},87:function(t,e,n){"use strict";n.r(e);var c=n(2),a=n.n(c),r=n(27),i=n.n(r),o=(n(77),n(78),n(22)),l=n(5),s=n(3),u=(n(79),n(21)),d=n(11),f=n(1),v=function(t){var e=t.xScale,n=t.yScale,a=t.chartRef,r=t.data,i=t.margin,o=t.value,s=Object(c.useRef)(null),v=Object(c.useState)({}),h=Object(l.a)(v,2),j=h[0],p=h[1];return Object(c.useEffect)((function(){var t=a.current.getBoundingClientRect(),c=t.top,l=t.left,u=t.right,d=s.current.getBoundingClientRect(),f=d.width,v=d.height,h=e(r.index),j=c+n(o)+i.top-v-10,b=l+h+i.left-f/2;b+f+i.left+i.right>u&&(b=u-f-i.right),b<l+i.left&&(b=l+i.left),p({top:j,left:b,opacity:1,backgroundColor:r.color})}),[]),Object(f.jsxs)("div",{ref:s,style:j,className:"annotation-item",children:[r.annotation,Object(f.jsxs)("div",{className:"action",children:[Object(f.jsx)(u.a,{onClick:function(){return alert("edit")},icon:d.a}),Object(f.jsx)(u.a,{onClick:function(){return alert("delete")},icon:d.b})]})]})},h=function(t){var e=t.data,n=t.lines,a=t.width,r=t.height,i=t.annotations,u=Object(c.useRef)(null),d=Object(c.useRef)(null),h=Object(c.useState)(1),j=Object(l.a)(h,2),p=j[0],b=j[1],g=Object(c.useState)(null),O=Object(l.a)(g,2),m=O[0],x=O[1];Object(c.useEffect)((function(){s.g(u.current).selectAll("*").remove(),b(p+1),R()}),[a,r,e]);var k={top:50,right:50,bottom:50,left:50},y=a-k.left-k.right,w=r-k.top-k.bottom,S=s.f().domain(e.map((function(t,e){return e}))).range([0,y]),C=s.e().domain([0,function(){var t=[];return e.forEach((function(e){n.forEach((function(n){t.push(e[n.key])}))})),Math.max.apply(Math,t)}()]).range([w,0]),N=Object(c.useMemo)((function(){if(!m||!u.current||!d.current)return{};var t=m[m.key],e=u.current.getBoundingClientRect(),n=e.left,c=e.top,a=d.current.getBoundingClientRect().width,r=n+S(m.index)+k.left-a/2,i=c+C(t)+k.top-46-10;return i<c&&(i=c+C(t)+46+10),{left:r,top:i,visibility:"visible"}}),[m,u.current,d.current]),R=function(){var t=s.g(u.current).append("g").attr("transform","translate("+k.left+","+k.top+")");t.append("g").attr("class","x axis").attr("transform","translate(0,"+w+")").call(s.a(S).tickFormat((function(t,n){return e[n].date}))),t.append("g").attr("class","y axis").call(s.b(C).ticks(4)),t.append("g").attr("class","grid").call(s.b(C).ticks(4).tickSize(-y).tickFormat("").tickSizeOuter(0)),t.append("g").attr("class","grid").attr("transform","translate(0,"+w+")").call(s.a(S).tickSize(-w).tickFormat("").tickSizeOuter(0)),n.forEach((function(n){var c=n.key,a=s.d().x((function(t,e){return S(e)})).y((function(t){return C(t[c])})).curve(s.c);t.append("path").datum(e).attr("class","line").attr("fill","none").attr("stroke",n.color).attr("stroke-width",2).attr("d",a),t.append("g").selectAll("circle-".concat(n.key)).data(e).enter().append("circle").attr("class","dot").attr("fill",n.color).attr("cx",(function(t,e){return S(e)})).attr("cy",(function(t){return C(t[c])})).attr("r",5).on("mouseover",(function(t,e,n){n[e].style.fill="red",x(Object(o.a)(Object(o.a)({},t),{},{index:e,key:c}))})).on("mouseout",(function(t,e,c){c[e].style.fill=n.color,x(null)}))}))};return Object(f.jsxs)("div",{children:[Object(f.jsx)("svg",{width:y+k.left+k.right,height:w+k.top+k.bottom,ref:u}),Object(f.jsxs)("div",{ref:d,style:N,className:"chart-tooltip",children:[Object(f.jsx)("div",{className:"date",children:(null===m||void 0===m?void 0:m.date)||""}),Object(f.jsxs)("div",{className:"property",children:[Object(f.jsxs)("span",{className:"label",children:[null===m||void 0===m?void 0:m.key,": "]}),Object(f.jsx)("span",{className:"value",children:null===m||void 0===m?void 0:m[null===m||void 0===m?void 0:m.key]})]})]}),i.map((function(t,n){return Object(f.jsx)(v,{chartRef:u,value:e[t.index][t.key],data:t,xScale:S,yScale:C,margin:k},"".concat(n,"_").concat(p))}))]})},j=(n(86),function(t){var e=t.className,n=t.children,a=t.style,r=Object(c.useState)({}),i=Object(l.a)(r,2),o=i[0],s=i[1],u=Object(c.useRef)(null),d=o.width,v=o.height,h=d&&v&&n&&"function"===typeof n,j=Object(c.useCallback)((function(){var t=u.current.getBoundingClientRect(),e=t.width,n=t.height;s({width:e,height:n})}),[]);return Object(c.useEffect)((function(){return window.addEventListener("resize",j),function(){return window.removeEventListener("resize",j)}}),[]),Object(c.useLayoutEffect)((function(){j()}),[]),Object(f.jsx)("div",{style:a,ref:u,className:"div-size-tracker ".concat(e),children:Object(f.jsx)("div",{className:"div-size-tracker-content",children:h?n(d,v):null})})});j.defaultProps={style:{},className:""};var p=j;var b=function(){var t=[{date:"Test",uv:10,pv:20},{date:"Test 1",uv:20,pv:10},{date:"Test 2",uv:5,pv:50},{date:"Test 3",uv:60,pv:30},{date:"Test 4",uv:50,pv:20},{date:"Test 5",uv:20,pv:70},{date:"Test 6",uv:40,pv:50}],e=[{key:"uv",color:"#8884d8"},{key:"pv",color:"#82ca9d"}],n=[{key:"uv",index:0,annotation:"First annotation",color:"#8884d8"},{key:"uv",index:6,annotation:"Last annotaion",color:"#8884d8"},{key:"pv",index:2,annotation:"This is test",color:"#82ca9d"}];return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(p,{children:function(c,a){return Object(f.jsx)(h,{lines:e,data:t,width:c,height:a,annotations:n})}})})},g=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(b,{})}),document.getElementById("root")),g()}},[[87,1,2]]]);
//# sourceMappingURL=main.920bc944.chunk.js.map