(this["webpackJsonpd3-line-chart"]=this["webpackJsonpd3-line-chart"]||[]).push([[0],{77:function(t,e,n){},78:function(t,e,n){},79:function(t,e,n){},86:function(t,e,n){"use strict";n.r(e);var a=n(2),c=n.n(a),r=n(27),i=n.n(r),l=(n(77),n(78),n(22)),o=n(11),s=n(3),u=(n(79),n(21)),d=n(10),f=n(1),p=function(t){var e=t.xScale,n=t.yScale,c=t.chartRef,r=t.data,i=t.margin,l=t.value,s=Object(a.useRef)(null),p=Object(a.useState)({}),h=Object(o.a)(p,2),j=h[0],v=h[1];return Object(a.useEffect)((function(){var t=c.current.getBoundingClientRect(),a=t.top,o=t.left,u=t.right,d=s.current.getBoundingClientRect(),f=d.width,p=d.height,h=e(r.index),j=a+n(l)+i.top-p-10,b=o+h+i.left-f/2;b+f+i.left+i.right>u&&(b=u-f-i.left-i.right-5),b<o+i.left&&(b=o+i.left),v({top:j,left:b,opacity:1})}),[]),Object(f.jsxs)("div",{ref:s,style:j,className:"annotation-item",children:[r.annotation,Object(f.jsxs)("div",{className:"action",children:[Object(f.jsx)(u.a,{onClick:function(){return alert("edit")},icon:d.a}),Object(f.jsx)(u.a,{onClick:function(){return alert("delete")},icon:d.b})]})]})},h=function(t){var e=t.data,n=t.lines,c=t.width,r=t.height,i=t.annotations,u=Object(a.useRef)(null),d=Object(a.useRef)(null),h=Object(a.useState)(null),j=Object(o.a)(h,2),v=j[0],b=j[1];Object(a.useEffect)((function(){S()}),[]);var g={top:50,right:50,bottom:50,left:50},m=c-g.left-g.right,x=r-g.top-g.bottom,O=s.f().domain(e.map((function(t,e){return e}))).range([0,m]),k=s.e().domain([0,function(){var t=[];return e.forEach((function(e){n.forEach((function(n){t.push(e[n.key])}))})),Math.max.apply(Math,t)}()]).range([x,0]),y=Object(a.useMemo)((function(){if(!v||!u.current||!d.current)return{};var t=v[v.key],e=u.current.getBoundingClientRect(),n=e.left,a=e.top,c=d.current.getBoundingClientRect(),r=c.width,i=c.height,l=n+O(v.index)+g.left-r/2,o=a+k(t)+g.top-i-10;return o<a&&(o=a+k(t)+i+10),{left:l,top:o,visibility:"visible"}}),[v,u.current,d.current]),S=function(){var t=s.g(u.current).append("svg").attr("width",m+g.left+g.right).attr("height",x+g.top+g.bottom).append("g").attr("transform","translate("+g.left+","+g.top+")");t.append("g").attr("class","x axis").attr("transform","translate(0,"+x+")").call(s.a(O).tickFormat((function(t,n){return e[n].date}))),t.append("g").attr("class","y axis").call(s.b(k).ticks(4)),t.append("g").attr("class","grid").call(s.b(k).ticks(4).tickSize(-m).tickFormat("").tickSizeOuter(0)),t.append("g").attr("class","grid").attr("transform","translate(0,"+x+")").call(s.a(O).tickSize(-x).tickFormat("").tickSizeOuter(0)),n.forEach((function(n){var a=n.key,c=s.d().x((function(t,e){return O(e)})).y((function(t){return k(t[a])})).curve(s.c);t.append("path").datum(e).attr("class","line").attr("fill","none").attr("stroke",n.color).attr("stroke-width",2).attr("d",c),t.append("g").selectAll("circle-".concat(n.key)).data(e).enter().append("circle").attr("class","dot").attr("fill",n.color).attr("cx",(function(t,e){return O(e)})).attr("cy",(function(t){return k(t[a])})).attr("r",5).on("mouseover",(function(t,e,n){n[e].style.fill="red",b(Object(l.a)(Object(l.a)({},t),{},{index:e,key:a}))})).on("mouseout",(function(t,e,a){a[e].style.fill=n.color,b(null)}))}))};return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{ref:u}),Object(f.jsxs)("div",{ref:d,style:y,className:"chart-tooltip",children:[Object(f.jsx)("div",{className:"date",children:"15/10/2020"}),Object(f.jsxs)("div",{className:"property",children:[Object(f.jsx)("span",{className:"label",children:"URL:"}),Object(f.jsx)("span",{className:"value",children:"http://google.com"})]}),Object(f.jsxs)("div",{className:"property",children:[Object(f.jsx)("span",{className:"label",children:"Clicks:"}),Object(f.jsx)("span",{className:"value",children:null===v||void 0===v?void 0:v.clicks})]})]}),i.map((function(t,n){return Object(f.jsx)(p,{chartRef:u,value:e[t.index][t.key],data:t,xScale:O,yScale:k,margin:g},n)}))]})};var j=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(h,{lines:[{key:"uv",color:"#8884d8"},{key:"pv",color:"#82ca9d"}],data:[{date:"Test",uv:10,pv:20},{date:"Test 1",uv:20,pv:10},{date:"Test 2",uv:5,pv:50},{date:"Test 3",uv:60,pv:30},{date:"Test 4",uv:50,pv:20},{date:"Test 5",uv:20,pv:70},{date:"Test 6",uv:40,pv:50}],width:800,height:400,annotations:[{key:"uv",index:0,annotation:"First annotation"},{key:"uv",index:6,annotation:"Last annotaion"},{key:"uv",index:2,annotation:"This is test"}]})})},v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(j,{})}),document.getElementById("root")),v()}},[[86,1,2]]]);
//# sourceMappingURL=main.474c5af0.chunk.js.map