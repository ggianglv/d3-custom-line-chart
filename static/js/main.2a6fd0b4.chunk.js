(this["webpackJsonpd3-line-chart"]=this["webpackJsonpd3-line-chart"]||[]).push([[0],{72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(22),i=n.n(r),l=(n(72),n(73),n(17)),o=n(8),s=n(2),u=(n(74),n(0)),d=function(t){var e=t.xScale,n=t.yScale,c=t.chartRef,r=t.data,i=t.margin,l=t.value,s=Object(a.useRef)(null),d=Object(a.useState)({}),f=Object(o.a)(d,2),p=f[0],h=f[1];return Object(a.useEffect)((function(){var t=c.current.getBoundingClientRect(),a=t.top,o=t.left,u=t.right,d=s.current.getBoundingClientRect(),f=d.width,p=d.height,v=e(r.index),j=a+n(l)+i.top-p-10,g=o+v+i.left-f/2;g+f+i.left+i.right>u&&(g=u-f-i.left-i.right-5),g<o+i.left&&(g=o+i.left),h({top:j,left:g,opacity:1})}),[]),Object(u.jsx)("div",{ref:s,style:p,className:"annotation-item",children:r.annotation})},f=function(t){var e=t.data,n=t.lines,c=t.width,r=t.height,i=t.annotations,f=Object(a.useRef)(null),p=Object(a.useRef)(null),h=Object(a.useState)(null),v=Object(o.a)(h,2),j=v[0],g=v[1];Object(a.useEffect)((function(){S()}),[]);var b={top:50,right:50,bottom:50,left:50},m=c-b.left-b.right,x=r-b.top-b.bottom,O=s.f().domain(e.map((function(t,e){return e}))).range([0,m]),k=s.e().domain([0,function(){var t=[];return e.forEach((function(e){n.forEach((function(n){t.push(e[n.key])}))})),Math.max.apply(Math,t)}()]).range([x,0]),y=Object(a.useMemo)((function(){if(!j||!f.current||!p.current)return{};var t=j[j.key],e=f.current.getBoundingClientRect(),n=e.left,a=e.top,c=p.current.getBoundingClientRect(),r=c.width,i=c.height,l=n+O(j.index)+b.left-r/2,o=a+k(t)+b.top-i-10;return o<a&&(o=a+k(t)+i+10),{left:l,top:o,visibility:"visible"}}),[j,f.current,p.current]),S=function(){var t=s.g(f.current).append("svg").attr("width",m+b.left+b.right).attr("height",x+b.top+b.bottom).append("g").attr("transform","translate("+b.left+","+b.top+")");t.append("g").attr("class","x axis").attr("transform","translate(0,"+x+")").call(s.a(O).tickFormat((function(t,n){return e[n].date}))),t.append("g").attr("class","y axis").call(s.b(k).ticks(4)),t.append("g").attr("class","grid").call(s.b(k).ticks(4).tickSize(-m).tickFormat("").tickSizeOuter(0)),t.append("g").attr("class","grid").attr("transform","translate(0,"+x+")").call(s.a(O).tickSize(-x).tickFormat("").tickSizeOuter(0)),n.forEach((function(n){var a=n.key,c=s.d().x((function(t,e){return O(e)})).y((function(t){return k(t[a])})).curve(s.c);t.append("path").datum(e).attr("class","line").attr("fill","none").attr("stroke",n.color).attr("stroke-width",2).attr("d",c),t.append("g").selectAll("circle-".concat(n.key)).data(e).enter().append("circle").attr("class","dot").attr("fill",n.color).attr("cx",(function(t,e){return O(e)})).attr("cy",(function(t){return k(t[a])})).attr("r",5).on("mouseover",(function(t,e,n){n[e].style.fill="red",g(Object(l.a)(Object(l.a)({},t),{},{index:e,key:a}))})).on("mouseout",(function(t,e,a){a[e].style.fill=n.color,g(null)}))}))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{ref:f}),Object(u.jsxs)("div",{ref:p,style:y,className:"chart-tooltip",children:[Object(u.jsx)("div",{className:"date",children:"15/10/2020"}),Object(u.jsxs)("div",{className:"property",children:[Object(u.jsx)("span",{className:"label",children:"URL:"}),Object(u.jsx)("span",{className:"value",children:"http://google.com"})]}),Object(u.jsxs)("div",{className:"property",children:[Object(u.jsx)("span",{className:"label",children:"Clicks:"}),Object(u.jsx)("span",{className:"value",children:null===j||void 0===j?void 0:j.clicks})]})]}),i.map((function(t,n){return Object(u.jsx)(d,{chartRef:f,value:e[t.index][t.key],data:t,xScale:O,yScale:k,margin:b},n)}))]})};var p=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(f,{lines:[{key:"uv",color:"#8884d8"},{key:"pv",color:"#82ca9d"}],data:[{date:"Test",uv:10,pv:20},{date:"Test 1",uv:20,pv:10},{date:"Test 2",uv:5,pv:50},{date:"Test 3",uv:60,pv:30},{date:"Test 4",uv:50,pv:20},{date:"Test 5",uv:20,pv:80},{date:"Test 6",uv:40,pv:50}],width:800,height:400,annotations:[{key:"uv",index:0,annotation:"First annotation"},{key:"uv",index:6,annotation:"Last annotaion"},{key:"uv",index:2,annotation:"This is test"}]})})},h=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root")),h()}},[[76,1,2]]]);
//# sourceMappingURL=main.2a6fd0b4.chunk.js.map