(this["webpackJsonpd3-line-chart"]=this["webpackJsonpd3-line-chart"]||[]).push([[0],{75:function(t,e,c){},76:function(t,e,c){},77:function(t,e,c){},79:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),i=c(25),r=c.n(i),s=(c(75),c(76),c(4)),l=c(20),o=c(7),u=c(2),d=(c(77),c(0)),f=function(t){var e=t.xScale,c=t.yScale,a=t.chartRef,i=t.data,r=t.margin,s=Object(n.useRef)(null),l=Object(n.useState)({}),u=Object(o.a)(l,2),f=u[0],p=u[1];Object(n.useEffect)((function(){var t=a.current.getBoundingClientRect(),n=t.top,l=t.left,o=t.right,u=s.current.getBoundingClientRect(),d=u.width,f=u.height,j=e(i.index),b=n+c(i.clicks)+r.top-f-10,h=l+j+r.left-d/2;h+d+r.left+r.right>o&&(h=o-d-r.left-r.right-5),h<l+r.left&&(h=l+r.left),p({top:b,left:h,opacity:1})}),[]);return Object(d.jsx)("div",{ref:s,style:f,className:"annotation-item",children:i.annotation})},p=[{date:"Test",clicks:10,annotation:"First annotation"},{date:"Test 1",clicks:20},{date:"Test 2",clicks:5,annotation:"This is test"},{date:"Test 3",clicks:60},{date:"Test 4",clicks:50},{date:"Test 5",clicks:20},{date:"Test 6",clicks:40,annotation:"This is test annotation"}],j=[{date:"Test",clicks:20},{date:"Test 1",clicks:10},{date:"Test 2",clicks:25},{date:"Test 3",clicks:30},{date:"Test 4",clicks:80},{date:"Test 5",clicks:10},{date:"Test 6",clicks:30}],b=function(){var t=Object(n.useState)(p),e=Object(o.a)(t,2),c=e[0],a=(e[1],Object(n.useRef)(null)),i=Object(n.useRef)(null),r=Object(n.useState)(null),b=Object(o.a)(r,2),h=b[0],g=b[1];Object(n.useEffect)((function(){N()}),[]);var m=Math.max.apply(Math,Object(l.a)(c.map((function(t){return t.clicks}))).concat(Object(l.a)(j.map((function(t){return t.clicks}))))),k={top:50,right:50,bottom:50,left:50},O=800-k.left-k.right,x=400-k.top-k.bottom,v=u.f().domain(c.map((function(t,e){return e}))).range([0,O]),y=u.e().domain([0,m]).range([x,0]),T=Object(n.useMemo)((function(){if(!h||!a.current||!i.current)return{};var t=a.current.getBoundingClientRect(),e=t.left,c=t.top,n=i.current.getBoundingClientRect(),r=n.width,s=n.height,l=e+v(h.index)+k.left-r/2,o=c+y(h.clicks)+k.top-s-10;return o<c&&(o=c+y(h.clicks)+s+10),{left:l,top:o,visibility:"visible"}}),[h,a.current,i.current]),S=Object(n.useMemo)((function(){var t=[];return c.forEach((function(e,c){e.annotation&&t.push(Object(s.a)(Object(s.a)({},e),{},{index:c}))})),t}),[c]),N=function(){var t=u.d().x((function(t,e){return v(e)})).y((function(t){return y(t.clicks)})).curve(u.c),e=u.g(a.current).append("svg").attr("width",O+k.left+k.right).attr("height",x+k.top+k.bottom).append("g").attr("transform","translate("+k.left+","+k.top+")");e.append("g").attr("class","x axis").attr("transform","translate(0,"+x+")").call(u.a(v).tickFormat((function(t,e){return c[e].date}))),e.append("g").attr("class","y axis").call(u.b(y).ticks(4)),e.append("g").attr("class","grid").call(u.b(y).ticks(4).tickSize(-O).tickFormat("").tickSizeOuter(0)),e.append("g").attr("class","grid").attr("transform","translate(0,"+x+")").call(u.a(v).tickSize(-x).tickFormat("").tickSizeOuter(0)),e.append("path").datum(c).attr("class","line").attr("fill","none").attr("stroke","#8884d8").attr("stroke-width",2).attr("d",t),e.append("path").datum(j).attr("class","line").attr("fill","none").attr("stroke","#82ca9d").attr("stroke-width",2).attr("d",t),e.append("g").selectAll("circle").data(c).enter().append("circle").attr("class","dot").attr("fill","#8884d8").attr("cx",(function(t,e){return v(e)})).attr("cy",(function(t){return y(t.clicks)})).attr("r",5).on("mouseover",(function(t,e,c){c[e].style.fill="red",g(Object(s.a)(Object(s.a)({},t),{},{index:e}))})).on("mouseout",(function(t,e,c){c[e].style.fill="#8884d8",g(null)})),e.append("g").selectAll("circle-2").data(j).enter().append("circle").attr("class","dot2").attr("fill","#82ca9d").attr("cx",(function(t,e){return v(e)})).attr("cy",(function(t){return y(t.clicks)})).attr("r",5).on("mouseover",(function(t,e,c){c[e].style.fill="red",g(Object(s.a)(Object(s.a)({},t),{},{index:e}))})).on("mouseout",(function(t,e,c){c[e].style.fill="#82ca9d",g(null)}))};return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{ref:a}),Object(d.jsxs)("div",{ref:i,style:T,className:"chart-tooltip",children:[Object(d.jsx)("div",{className:"date",children:"15/10/2020"}),Object(d.jsxs)("div",{className:"property",children:[Object(d.jsx)("span",{className:"label",children:"URL:"}),Object(d.jsx)("span",{className:"value",children:"http://google.com"})]}),Object(d.jsxs)("div",{className:"property",children:[Object(d.jsx)("span",{className:"label",children:"Clicks:"}),Object(d.jsx)("span",{className:"value",children:null===h||void 0===h?void 0:h.clicks})]})]}),S.map((function(t,e){return Object(d.jsx)(f,{data:t,xScale:v,yScale:y,chartRef:a,margin:k},e)}))]})};var h=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(b,{})})},g=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,80)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;c(t),n(t),a(t),i(t),r(t)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root")),g()}},[[79,1,2]]]);
//# sourceMappingURL=main.431fb139.chunk.js.map